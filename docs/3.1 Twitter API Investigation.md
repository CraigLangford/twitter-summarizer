# Twitter API Investigation

As mentioned before Twitter has provided a REST API for requesting
relevant Twitter data. [The link to the API is here.][link] There seems
to be a lot of relevant documentation on request limits, however, there
doesn't seem to be any sort of introductory tutorial. In that case I'll
try following [the Tweepy documentation]][tweepy] which is an API
client to allow "Twitter for Python."

[link]: https://dev.twitter.com/rest/public
[tweepy]: http://www.tweepy.org/

It seems that to interact with the API you need a key and access token
which can be created by creating a Twitter app in [the Twitter apps
section](https://apps.twitter.com). Once the app was created I got my
key and access token.

Key: AME1iqfrYjkrbNrz587MIhbxQ
Access Token: 294751529-Cj9QCFb6ODQN09xiWsSKmHzORb9VnwqFwlG3Ufwf
Access Token Secret: Secret Key

From most references Tweepy seems to be the Python libray of choice for
interacting with the Twitter data so I'll give it a shot with that.

First I'll create a virtualenv for this work (with Python 3.5).

```bash
mkvirtualenv twitter_project
```

Install Tweepy from pip.

```bash
pip install tweepy
```

We can create the script now in tweepy_tutorial.py.

```python
import tweepy

auth = tweepy.OAuthHandler(consumer_key, consumer_secret)
auth.set_access_token(access_token, access_token_secret)

api = tweepy.API(auth)
```

Tweepy provides a straightforward method to signing in (through
OAuthHandler) and setting an access token. Once this is complete the
api can be set allowing access to Twitter!

Lets see exactly what an api command returns.

```python
me = api.me()
print(type(me))
>> <class 'tweepy.models.User'>
pprint([method for method in dir(me) if not method.startswith('_')])
>> ['contributors_enabled', 'created_at', 'default_profile',
    'default_profile_image', 'description', 'entities',
    'favourites_count', 'follow', 'follow_request_sent',
    'followers', 'followers_count', 'followers_ids',
    'following', 'friends', 'friends_count',
    'geo_enabled', 'has_extended_profile', 'id',
    'id_str', 'is_translation_enabled', 'is_translator',
    'lang', 'listed_count', 'lists',
    'lists_memberships', 'lists_subscriptions', 'location',
    'name', 'needs_phone_verification', 'notifications',
    'parse', 'parse_list', 'profile_background_color',
    'profile_background_image_url', 'profile_background_image_url_https', 'profile_background_tile',
    'profile_banner_url', 'profile_image_url', 'profile_image_url_https',
    'profile_link_color', 'profile_location', 'profile_sidebar_border_color',
    'profile_sidebar_fill_color', 'profile_text_color', 'profile_use_background_image',
    'protected', 'screen_name', 'statuses_count',
    'suspended', 'time_zone', 'timeline',
    'translator_type', 'unfollow', 'url',
    'utc_offset', 'verified']

public_tweets = api.home_timeline()
first_tweet = public_tweets[0]
pprint(type(first_tweet))
>> <class 'tweepy.models.Status'>
pprint([method for method in dir(first_tweet) if not method.startswith('_')])
>> ['author', 'contributors', 'coordinates',
    'created_at', 'destroy', 'entities',
    'extended_entities', 'favorite', 'favorite_count',
    'favorited', 'geo', 'id',
    'id_str', 'in_reply_to_screen_name', 'in_reply_to_status_id',
    'in_reply_to_status_id_str', 'in_reply_to_user_id', 'in_reply_to_user_id_str',
    'is_quote_status', 'lang', 'parse',
    'parse_list', 'place', 'possibly_sensitive',
    'possibly_sensitive_appealable', 'retweet', 'retweet_count',
    'retweeted', 'retweets', 'source',
    'source_url', 'text', 'truncated',
    'user']
```

User and Status objects are the typical objects returned from the tweepy
API. User objects are quite obvious, however, I was surprised to find
tweet objects are actually named Statuses. Looking at the dir() of these
objects above there can be seen to be a huge range of different
attributes from the object that can be taken.
